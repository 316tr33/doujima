// 統合スクロールイベント管理
        window.addEventListener('scroll', () => {
            // ヘッダー背景変更
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.9)';
            }
            
            // アクティブナビ更新
            updateActiveNav();
        });

        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            try {
                initSlideshow();
                initializeAnimations();
                initSmoothScroll();
                initHoverNavigation();
                initParallaxAndDepth();
                updateActiveNav();
                
                console.log('Enhanced site with depth effects fully initialized');
            } catch (error) {
                console.error('Initialization error:', error);
            }
        });<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>四国遍路 - 心を清める八十八ヶ所巡礼の道</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@200;300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Serif JP', serif;
            line-height: 1.8;
            color: #fff;
            background: #000;
            overflow-x: hidden;
            position: relative;
        }

        /* パララックス背景レイヤー */
        .parallax-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
        }

        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 120%;
            height: 120%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* 最背景 - 遠い山脈 */
        .mountains-far {
            background: linear-gradient(to bottom, 
                rgba(13, 39, 80, 0.8) 0%,
                rgba(30, 60, 100, 0.6) 30%,
                rgba(50, 80, 120, 0.4) 60%,
                rgba(80, 100, 140, 0.2) 100%
            );
            z-index: -10;
        }

        .mountains-far::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400"><path d="M0 400 Q200 200 400 300 T800 250 Q1000 200 1200 280 L1200 400 Z" fill="rgba(60,80,120,0.3)"/><path d="M0 400 Q300 180 600 270 T1200 240 L1200 400 Z" fill="rgba(80,100,140,0.2)"/></svg>') center bottom/cover;
        }

        /* 中景 - 中間の山々 */
        .mountains-mid {
            background: linear-gradient(to bottom, 
                transparent 0%,
                rgba(20, 60, 40, 0.4) 40%,
                rgba(30, 80, 50, 0.6) 70%,
                rgba(40, 100, 60, 0.8) 100%
            );
            z-index: -8;
        }

        .mountains-mid::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400"><path d="M0 400 Q150 150 300 250 Q450 100 600 200 Q750 80 900 180 Q1050 120 1200 220 L1200 400 Z" fill="rgba(30,80,50,0.7)"/><path d="M0 400 Q250 120 500 200 Q750 60 1000 160 Q1100 140 1200 180 L1200 400 Z" fill="rgba(40,100,60,0.5)"/></svg>') center bottom/cover;
        }

        /* 前景 - 近い森林 */
        .mountains-near {
            background: linear-gradient(to bottom, 
                transparent 0%,
                rgba(10, 40, 20, 0.3) 50%,
                rgba(20, 60, 30, 0.7) 80%,
                rgba(30, 80, 40, 0.9) 100%
            );
            z-index: -6;
        }

        .mountains-near::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 300"><path d="M0 300 Q100 100 200 180 Q300 50 400 120 Q500 80 600 140 Q700 60 800 110 Q900 90 1000 130 Q1100 70 1200 100 L1200 300 Z" fill="rgba(20,60,30,0.8)"/></svg>') center bottom/cover;
        }

        /* 霧エフェクト */
        .fog-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><radialGradient id="fog1"><stop offset="0%" style="stop-color:rgba(255,255,255,0.1)"/><stop offset="100%" style="stop-color:transparent"/></radialGradient><radialGradient id="fog2"><stop offset="0%" style="stop-color:rgba(255,255,255,0.05)"/><stop offset="100%" style="stop-color:transparent"/></radialGradient></defs><ellipse cx="200" cy="400" rx="150" ry="80" fill="url(%23fog1)"/><ellipse cx="600" cy="500" rx="200" ry="100" fill="url(%23fog2)"/><ellipse cx="1000" cy="450" rx="180" ry="90" fill="url(%23fog1)"/></svg>');
            z-index: -4;
            animation: fogDrift 20s ease-in-out infinite;
        }

        @keyframes fogDrift {
            0%, 100% { transform: translateX(-50px); opacity: 0.6; }
            50% { transform: translateX(50px); opacity: 0.9; }
        }

        /* 光芒エフェクト */
        .light-rays {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="ray1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:rgba(255,215,100,0.1)"/><stop offset="50%" style="stop-color:rgba(255,215,100,0.05)"/><stop offset="100%" style="stop-color:transparent"/></linearGradient></defs><polygon points="800,0 820,0 900,400 880,400" fill="url(%23ray1)"/><polygon points="850,0 870,0 950,400 930,400" fill="url(%23ray1)"/><polygon points="900,0 920,0 1000,400 980,400" fill="url(%23ray1)"/></svg>');
            z-index: -3;
            animation: lightShift 15s ease-in-out infinite;
        }

        @keyframes lightShift {
            0%, 100% { opacity: 0.3; transform: rotate(0deg); }
            50% { opacity: 0.7; transform: rotate(2deg); }
        }

        /* 浮遊する粒子 */
        .floating-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        .particle-float {
            position: absolute;
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, rgba(255,215,100,0.8) 0%, transparent 70%);
            border-radius: 50%;
            animation: particleFloat 12s linear infinite;
        }

        @keyframes particleFloat {
            0% { 
                transform: translateY(100vh) translateX(0px) scale(0); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
                transform: translateY(90vh) translateX(10px) scale(1); 
            }
            90% { 
                opacity: 1; 
                transform: translateY(10vh) translateX(-10px) scale(1); 
            }
            100% { 
                transform: translateY(0vh) translateX(0px) scale(0); 
                opacity: 0; 
            }
        }

        /* 時間変化する背景オーバーレイ */
        .time-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            animation: timeShift 60s ease-in-out infinite;
        }

        @keyframes timeShift {
            0% { 
                background: linear-gradient(to bottom, 
                    rgba(25, 25, 60, 0.3) 0%, 
                    rgba(40, 40, 80, 0.2) 50%, 
                    rgba(60, 60, 100, 0.1) 100%); 
            }
            25% { 
                background: linear-gradient(to bottom, 
                    rgba(255, 140, 60, 0.1) 0%, 
                    rgba(255, 100, 50, 0.2) 50%, 
                    rgba(200, 80, 40, 0.3) 100%); 
            }
            50% { 
                background: linear-gradient(to bottom, 
                    rgba(135, 206, 235, 0.1) 0%, 
                    rgba(100, 180, 220, 0.2) 50%, 
                    rgba(80, 160, 200, 0.3) 100%); 
            }
            75% { 
                background: linear-gradient(to bottom, 
                    rgba(255, 165, 80, 0.2) 0%, 
                    rgba(255, 120, 60, 0.3) 50%, 
                    rgba(200, 100, 50, 0.4) 100%); 
            }
            100% { 
                background: linear-gradient(to bottom, 
                    rgba(25, 25, 60, 0.3) 0%, 
                    rgba(40, 40, 80, 0.2) 50%, 
                    rgba(60, 60, 100, 0.1) 100%); 
            }
        }

        /* ヘッダー - 元に戻す */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .logo {
            color: #d4af37;
            font-size: 1.5rem;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            position: relative;
        }

        .nav-links > li {
            position: relative;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-size: 0.9rem;
            letter-spacing: 1px;
            transition: color 0.3s;
            padding: 0.5rem 1rem;
            display: block;
        }

        .nav-links > li > a:hover {
            color: #d4af37;
        }

        /* ドロップダウンメニュー */
        .dropdown {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 10px;
            padding: 1.5rem;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transform: translateX(-50%) translateY(-10px);
            transition: all 0.3s ease;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }

        .nav-links li:hover .dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .dropdown a {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.85rem;
            padding: 0.75rem 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .dropdown a:hover {
            color: #d4af37;
            background: rgba(212, 175, 55, 0.1);
            border-left-color: #d4af37;
            transform: translateX(5px);
        }

        /* ドロップダウンの三角形 */
        .dropdown::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(0, 0, 0, 0.95);
        }

        /* 縦書きナビゲーション - 最終修正版 */
        .vertical-nav {
            position: fixed;
            right: -280px; /* さらに深く隠す */
            top: 50%;
            transform: translateY(-50%);
            z-index: 2000;
            writing-mode: vertical-rl;
            background: rgba(0, 0, 0, 0.92);
            backdrop-filter: blur(20px);
            border-radius: 25px 0 0 25px;
            padding: 3rem 2.5rem; /* さらに大きな余白 */
            border: 1px solid rgba(212, 175, 55, 0.4);
            border-right: none;
            transition: right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            width: 300px; /* さらに大きな幅 */
            box-shadow: -20px 0 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .vertical-nav.show {
            right: 0;
        }

        .vertical-nav:hover {
            background: rgba(0, 0, 0, 0.96);
            border-color: rgba(212, 175, 55, 0.7);
            box-shadow: -25px 0 40px rgba(0, 0, 0, 0.7);
        }

        .vertical-nav-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            justify-content: center;
        }

        .vertical-nav a {
            display: block;
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            font-size: 1.2rem;
            letter-spacing: 4px;
            margin-bottom: 3.5rem;
            padding: 1.2rem 2rem;
            transition: all 0.4s ease;
            border-radius: 12px;
            position: relative;
            white-space: nowrap;
            text-align: center;
            min-width: 120px;
            font-weight: 300;
        }

        .vertical-nav a:last-child {
            margin-bottom: 0;
        }

        .vertical-nav a:hover {
            color: #d4af37;
            background: rgba(212, 175, 55, 0.18);
            transform: translateX(-12px);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
        }

        .vertical-nav a.active {
            color: #d4af37;
            background: rgba(212, 175, 55, 0.28);
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.5);
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.8);
        }

        .vertical-nav a::before {
            content: '';
            position: absolute;
            left: -12px;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 0;
            background: linear-gradient(to bottom, #d4af37, #f4e97a);
            transition: height 0.4s ease;
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        .vertical-nav a:hover::before,
        .vertical-nav a.active::before {
            height: 75%;
        }

        /* ナビゲーション表示トリガーエリア */
        .nav-trigger-area {
            position: fixed;
            right: 0;
            top: 0;
            width: 60px; /* さらに広いトリガーエリア */
            height: 100vh;
            z-index: 1999;
            background: transparent;
            cursor: pointer;
        }

        /* ナビゲーション表示インジケーター */
        .nav-indicator {
            position: fixed;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1998;
            writing-mode: vertical-rl;
            color: rgba(212, 175, 55, 0.7);
            font-size: 1rem;
            letter-spacing: 6px;
            transition: all 0.4s ease;
            pointer-events: none;
            opacity: 0.8;
            text-shadow: 0 0 12px rgba(212, 175, 55, 0.4);
            font-weight: 300;
        }

        .nav-indicator.hover {
            color: rgba(212, 175, 55, 1);
            opacity: 1;
            transform: translateY(-50%) scale(1.15);
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.8);
        }

        .nav-indicator::after {
            content: '';
            position: absolute;
            right: -10px;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 80px;
            background: linear-gradient(to bottom, 
                transparent, 
                rgba(212, 175, 55, 0.3), 
                rgba(212, 175, 55, 0.9),
                rgba(212, 175, 55, 0.3),
                transparent
            );
            border-radius: 2px;
            box-shadow: 0 0 8px rgba(212, 175, 55, 0.4);
        }

        /* ヒーローセクション - パララックス対応 */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            z-index: 5;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 70%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 30%, rgba(139, 21, 56, 0.08) 0%, transparent 50%);
            z-index: 1;
        }

        .hero-slideshow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 2s ease-in-out;
            background-size: cover;
            background-position: center;
        }

        .hero-slide.active {
            opacity: 1;
        }

        .hero-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                rgba(0, 0, 0, 0.3) 0%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.7) 100%
            );
            z-index: 1;
        }

        /* デフォルト背景 */
        .hero-slide:nth-child(1) {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="waterfall" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23001a0d"/><stop offset="50%" style="stop-color:%23003d1a"/><stop offset="100%" style="stop-color:%230d1f0d"/></linearGradient></defs><rect width="100%" height="100%" fill="url(%23waterfall)"/><path d="M0 600 Q200 550 400 580 T800 570 Q1000 560 1200 580 L1200 800 L0 800 Z" fill="%23001a0d" opacity="0.8"/><ellipse cx="600" cy="400" rx="50" ry="200" fill="%23ffffff" opacity="0.6"/><rect x="580" y="200" width="40" height="400" fill="%23ffffff" opacity="0.8"/><circle cx="300" cy="200" r="2" fill="%23d4af37" opacity="0.7"/><circle cx="900" cy="250" r="1.5" fill="%23d4af37" opacity="0.6"/></svg>') center/cover;
        }

        .hero-slide:nth-child(2) {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="temple" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23660000"/><stop offset="50%" style="stop-color:%23990000"/><stop offset="100%" style="stop-color:%23330000"/></linearGradient></defs><rect width="100%" height="100%" fill="url(%23temple)"/><polygon points="500,200 550,150 650,150 700,200 700,500 500,500" fill="%23cc0000" opacity="0.8"/><polygon points="480,200 520,130 680,130 720,200" fill="%23d4af37" opacity="0.9"/><rect x="570" y="250" width="60" height="120" fill="%23000000" opacity="0.7"/><circle cx="600" cy="180" r="8" fill="%23d4af37"/></svg>') center/cover;
        }

        .hero-slide:nth-child(3) {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="pilgrim" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23001122"/><stop offset="50%" style="stop-color:%23003344"/><stop offset="100%" style="stop-color:%23001133"/></linearGradient></defs><rect width="100%" height="100%" fill="url(%23pilgrim)"/><ellipse cx="600" cy="400" rx="100" ry="300" fill="%23ffffff" opacity="0.8"/><circle cx="600" cy="300" r="30" fill="%23ffffff" opacity="0.9"/><rect x="580" y="350" width="40" height="200" fill="%23ffffff" opacity="0.7"/></svg>') center/cover;
        }

        .hero-slide:nth-child(4) {
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="autumn" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23cc4400"/><stop offset="50%" style="stop-color:%23ff6600"/><stop offset="100%" style="stop-color:%23990000"/></linearGradient></defs><rect width="100%" height="100%" fill="url(%23autumn)"/><circle cx="200" cy="100" r="20" fill="%23ff9900" opacity="0.8"/><circle cx="800" cy="150" r="15" fill="%23ffaa00" opacity="0.9"/><circle cx="1000" cy="200" r="25" fill="%23cc5500" opacity="0.7"/></svg>') center/cover;
        }

        .slideshow-controls {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            gap: 1rem;
        }

        .slide-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid rgba(212, 175, 55, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .slide-dot.active {
            background: #d4af37;
            border-color: #d4af37;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.8);
        }

        .slide-info {
            position: absolute;
            bottom: 6rem;
            right: 3rem;
            z-index: 10;
            writing-mode: vertical-rl;
            text-orientation: upright;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            letter-spacing: 2px;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.8s ease;
        }

        .slide-info.active {
            opacity: 1;
            transform: translateX(0);
        }

        .slide-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: #d4af37;
            z-index: 10;
            transform-origin: left;
            animation: slideProgress 6s linear infinite;
        }

        @keyframes slideProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        .hero-content {
            text-align: center;
            z-index: 10;
            max-width: 600px;
            padding: 0 2rem;
        }

        .hero-subtitle {
            writing-mode: vertical-rl;
            text-orientation: upright;
            font-size: 1.2rem;
            letter-spacing: 8px;
            color: #d4af37;
            margin: 0 auto 2rem;
            height: 200px;
            opacity: 0.9;
        }

        .hero h1 {
            font-size: 5rem;
            font-weight: 300;
            letter-spacing: 10px;
            margin-bottom: 2rem;
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .hero-description {
            font-size: 1.1rem;
            letter-spacing: 3px;
            line-height: 2;
            margin-bottom: 3rem;
            opacity: 0.9;
        }

        /* セクション共通 - 奥行き対応 */
        .section {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 6rem 2rem;
            position: relative;
            z-index: 5;
            margin: 2rem 0;
            border-radius: 20px 20px 0 0;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.1) 0%, 
                rgba(20, 20, 20, 0.3) 50%, 
                rgba(0, 0, 0, 0.1) 100%
            );
            border-radius: inherit;
            z-index: -1;
        }

        .section-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: #d4af37;
            font-weight: 300;
            letter-spacing: 4px;
        }

        .section-intro {
            text-align: center;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 2;
            margin-bottom: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            letter-spacing: 1px;
        }

        /* カードグリッド */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .card {
            background: rgba(20, 20, 20, 0.8);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(212, 175, 55, 0.2);
        }

        .card-image {
            height: 200px;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-content {
            padding: 1.5rem;
        }

        .card h3 {
            color: #d4af37;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: 400;
            letter-spacing: 1px;
        }

        .card p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.8;
            letter-spacing: 0.5px;
        }

        /* 大きな画像セクション - 奥行き演出 */
        .hero-image-section {
            height: 80vh;
            background: none;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 5;
            margin: 4rem 0;
        }

        .hero-image-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, 
                rgba(212, 175, 55, 0.1) 0%, 
                rgba(0, 0, 0, 0.3) 40%, 
                rgba(0, 0, 0, 0.6) 100%
            );
            z-index: 1;
        }

        .hero-image-content {
            text-align: center;
            z-index: 10;
        }

        .hero-image-content h2 {
            font-size: 3rem;
            color: #d4af37;
            margin-bottom: 1rem;
            font-weight: 300;
            letter-spacing: 6px;
        }

        .hero-image-content p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            letter-spacing: 2px;
            line-height: 2;
        }

        /* 引用セクション */
        .quote-section {
            background: linear-gradient(135deg, rgba(20, 20, 20, 0.9), rgba(40, 40, 40, 0.8));
            padding: 6rem 2rem;
            text-align: center;
            position: relative;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .quote-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .quote-text {
            font-size: 1.8rem;
            color: #d4af37;
            font-style: italic;
            margin-bottom: 2rem;
            letter-spacing: 2px;
            line-height: 1.8;
        }

        .quote-author {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 1px;
        }

        /* 縦書きテキストセクション */
        .vertical-text-section {
            background: #1a1a1a;
            padding: 6rem 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 50vh;
        }

        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: upright;
            font-size: 1.5rem;
            letter-spacing: 8px;
            color: #d4af37;
            line-height: 3;
            text-align: center;
        }

        /* 画像ギャラリー */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 3rem 0;
        }

        .gallery-item {
            position: relative;
            height: 200px;
            background: #2a2a2a;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: #fff;
            padding: 1rem;
            transform: translateY(100%);
            transition: transform 0.3s;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* フッター */
        footer {
            background: #000;
            padding: 4rem 2rem 2rem;
            text-align: center;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
        }

        .social-links {
            margin-bottom: 2rem;
        }

        .social-links a {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.5rem;
            margin: 0 1rem;
            transition: color 0.3s;
        }

        .social-links a:hover {
            color: #d4af37;
        }

        .footer-text {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        /* レスポンシブ */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 3rem;
            }

            .hero-subtitle {
                writing-mode: horizontal-tb;
                height: auto;
                font-size: 1rem;
            }

            .vertical-nav {
                display: none;
            }

            .section {
                padding: 4rem 1rem;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .hero-image-content h2 {
                font-size: 2rem;
            }

            .vertical-text {
                writing-mode: horizontal-tb;
                font-size: 1.2rem;
                letter-spacing: 2px;
            }
        }
    </style>
</head>
<body>
    <!-- パララックス背景レイヤー -->
    <div class="parallax-container" id="parallaxContainer">
        <div class="parallax-layer mountains-far" id="mountainsFar"></div>
        <div class="parallax-layer mountains-mid" id="mountainsMid"></div>
        <div class="parallax-layer mountains-near" id="mountainsNear"></div>
        <div class="parallax-layer fog-layer" id="fogLayer"></div>
        <div class="parallax-layer light-rays" id="lightRays"></div>
        <div class="parallax-layer floating-particles" id="floatingParticles"></div>
        <div class="parallax-layer time-overlay" id="timeOverlay"></div>
    </div>

    <header>
        <nav>
            <div class="logo">四国遍路</div>
            <ul class="nav-links">
                <li>
                    <a href="#home">ホーム</a>
                </li>
                <li>
                    <a href="#about">四国遍路とは</a>
                    <div class="dropdown">
                        <a href="#history">歴史と由来</a>
                        <a href="#spirit">巡礼の精神</a>
                        <a href="#meaning">同行二人の意味</a>
                        <a href="#benefits">巡礼の効果</a>
                    </div>
                </li>
                <li>
                    <a href="#temples">札所案内</a>
                    <div class="dropdown">
                        <a href="#awa">発心の道場（阿波）</a>
                        <a href="#tosa">修行の道場（土佐）</a>
                        <a href="#iyo">菩提の道場（伊予）</a>
                        <a href="#sanuki">涅槃の道場（讃岐）</a>
                    </div>
                </li>
                <li>
                    <a href="#journey">巡礼体験</a>
                    <div class="dropdown">
                        <a href="#preparation">巡礼の準備</a>
                        <a href="#etiquette">参拝作法</a>
                        <a href="#accommodation">宿泊施設</a>
                        <a href="#support">サポート情報</a>
                    </div>
                </li>
                <li>
                    <a href="#contact">お問い合わせ</a>
                    <div class="dropdown">
                        <a href="#inquiry">一般お問い合わせ</a>
                        <a href="#booking">宿泊予約</a>
                        <a href="#guide">ガイド依頼</a>
                        <a href="#emergency">緊急サポート</a>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <!-- 縦書きナビゲーション -->
    <div class="vertical-nav" id="verticalNav">
        <div class="vertical-nav-container">
            <a href="#home">ホーム</a>
            <a href="#about">四国遍路</a>
            <a href="#temples">札所</a>
            <a href="#journey">巡礼</a>
            <a href="#contact">問合</a>
        </div>
    </div>

    <!-- ナビゲーション表示トリガーエリア -->
    <div class="nav-trigger-area" id="navTrigger"></div>

    <!-- ナビゲーション表示インジケーター -->
    <div class="nav-indicator" id="navIndicator">メニュー</div>

    <!-- ヒーローセクション -->
    <section class="hero" id="home">
        <div class="hero-slideshow">
            <div class="hero-slide active" data-info="清流と岩肌の調和"></div>
            <div class="hero-slide" data-info="朱色に染まる古刹"></div>
            <div class="hero-slide" data-info="白装束の巡礼者"></div>
            <div class="hero-slide" data-info="秋の遍路道"></div>
        </div>

        <div class="slide-progress"></div>

        <div class="hero-content">
            <div class="hero-subtitle">八十八ヶ所霊場巡礼</div>
            <h1>四国遍路</h1>
            <p class="hero-description">
                弘法大師の足跡を辿る<br>
                千二百年の歴史を持つ<br>
                心の巡礼路
            </p>
        </div>

        <div class="slide-info active" id="slideInfo">清流と岩肌の調和</div>

        <div class="slideshow-controls">
            <div class="slide-dot active" data-slide="0"></div>
            <div class="slide-dot" data-slide="1"></div>
            <div class="slide-dot" data-slide="2"></div>
            <div class="slide-dot" data-slide="3"></div>
        </div>
    </section>

    <!-- 四国遍路について -->
    <section class="section" id="about">
        <div class="section-content">
            <h2 class="section-title">巡礼体験</h2>
            <p class="section-intro">
                お遍路は単なる観光を超えた深い精神的な修行です。
                歩くことで心が浄化され、日常では得られない気づきと成長を体験できます。
                巡礼中に困ったことがあれば、24時間サポート体制でお手伝いいたします。
            </p>

            <div class="gallery-grid">
                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h4>白装束での巡礼</h4>
                        <p>伝統的な遍路装束で心を清めます</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h4>納経帳への御朱印</h4>
                        <p>各札所での貴重な証となります</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h4>お接待の心</h4>
                        <p>地元の方々の温かいもてなし</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <div class="gallery-overlay">
                        <h4>山道での修行</h4>
                        <p>厳しい道程が心を鍛えます</p>
                    </div>
                </div>
            </div>

            <!-- サポート案内 -->
            <div style="background: rgba(20, 20, 20, 0.8); border-radius: 15px; padding: 3rem; margin-top: 4rem; border: 2px solid rgba(212, 175, 55, 0.3); text-align: center;">
                <h3 style="color: #d4af37; font-size: 1.8rem; margin-bottom: 2rem; letter-spacing: 2px;">巡礼サポートセンター</h3>
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 1.1rem; line-height: 2; margin-bottom: 2rem;">
                    道に迷った、体調が悪い、宿が見つからない<br>
                    巡礼中の様々なお困りごとを24時間体制でサポートします
                </p>
                <div style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(184, 134, 11, 0.3)); border: 2px solid rgba(212, 175, 55, 0.5); color: white; padding: 1.5rem; border-radius: 10px; margin-bottom: 2rem;">
                    <div style="font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem; color: #d4af37;">巡礼サポートホットライン</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #ffffff; text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);">0120-88-1200</div>
                    <div style="font-size: 0.9rem; opacity: 0.9; color: rgba(255, 255, 255, 0.8);">24時間・年中無休・通話料無料</div>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                    <div style="text-align: center;">
                        <div style="color: #d4af37; font-size: 1.1rem; margin-bottom: 0.5rem;">道案内・ルート相談</div>
                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">GPS案内で正確にサポート</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #d4af37; font-size: 1.1rem; margin-bottom: 0.5rem;">宿泊先手配・予約</div>
                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">満室時の代替宿探し</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #d4af37; font-size: 1.1rem; margin-bottom: 0.5rem;">健康・医療相談</div>
                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">体調不良時の医療機関案内</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #d4af37; font-size: 1.1rem; margin-bottom: 0.5rem;">天候・安全情報</div>
                        <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">悪天候時の避難支援</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="social-links">
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <p class="footer-text">&copy; 2024 四国遍路. すべての権利を保持します.</p>
        <p class="footer-text" style="margin-top: 1rem; opacity: 0.8;">
            南無大師遍照金剛 - 同行二人の精神で、安全な巡礼をサポートいたします
        </p>
    </footer>

    <script>
        // スライドショー機能
        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.hero-slide');
            const dots = document.querySelectorAll('.slide-dot');
            const slideInfo = document.getElementById('slideInfo');
            const totalSlides = slides.length;

            if (slides.length === 0) {
                console.log('No slides found, skipping slideshow initialization');
                return;
            }

            function showSlide(index) {
                // 全てのスライドを非アクティブに
                slides.forEach(slide => {
                    slide.classList.remove('active');
                });
                dots.forEach(dot => {
                    dot.classList.remove('active');
                });

                // 指定されたスライドをアクティブに
                if (slides[index]) {
                    slides[index].classList.add('active');
                }
                if (dots[index]) {
                    dots[index].classList.add('active');
                }

                // スライド情報を更新
                if (slideInfo && slides[index]) {
                    const info = slides[index].getAttribute('data-info');
                    if (info) {
                        slideInfo.textContent = info;
                        slideInfo.classList.remove('active');
                        setTimeout(() => {
                            slideInfo.classList.add('active');
                        }, 100);
                    }
                }

                currentSlide = index;
            }

            function nextSlide() {
                const next = (currentSlide + 1) % totalSlides;
                showSlide(next);
            }

            // ドットクリックイベント
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    showSlide(index);
                    resetProgress();
                });
            });

            // 自動スライド（6秒間隔）
            if (totalSlides > 1) {
                setInterval(nextSlide, 6000);
            }

            // 進行バーのリセット機能
            resetProgress();

            function resetProgress() {
                const progressBar = document.querySelector('.slide-progress');
                if (progressBar) {
                    progressBar.style.animation = 'none';
                    setTimeout(() => {
                        progressBar.style.animation = 'slideProgress 6s linear infinite';
                    }, 10);
                }
            }

            console.log('Slideshow initialized with', totalSlides, 'slides');
        }ライドショー機能
        let currentSlide = 0;
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.slide-dot');
        const slideInfo = document.getElementById('slideInfo');
        const totalSlides = slides.length;

        function showSlide(index) {
            // 全てのスライドを非アクティブに
            slides.forEach(slide => {
                slide.classList.remove('active');
            });
            dots.forEach(dot => {
                dot.classList.remove('active');
            });

            // 指定されたスライドをアクティブに
            slides[index].classList.add('active');
            dots[index].classList.add('active');

            // スライド情報を更新
            const info = slides[index].getAttribute('data-info');
            slideInfo.textContent = info;
            slideInfo.classList.remove('active');
            setTimeout(() => {
                slideInfo.classList.add('active');
            }, 100);

            currentSlide = index;
        }

        function nextSlide() {
            const next = (currentSlide + 1) % totalSlides;
            showSlide(next);
        }

        function initSlideshow() {
            // ドットクリックイベント
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    showSlide(index);
                    resetProgress();
                });
            });

            // 自動スライド（6秒間隔）
            setInterval(nextSlide, 6000);

            // 進行バーのリセット機能
            resetProgress();
        }

        function resetProgress() {
            const progressBar = document.querySelector('.slide-progress');
            progressBar.style.animation = 'none';
            setTimeout(() => {
                progressBar.style.animation = 'slideProgress 6s linear infinite';
            }, 10);
        }

        // パララックス効果と粒子生成
        function initParallaxAndDepth() {
            const parallaxLayers = {
                mountainsFar: document.getElementById('mountainsFar'),
                mountainsMid: document.getElementById('mountainsMid'),
                mountainsNear: document.getElementById('mountainsNear'),
                fogLayer: document.getElementById('fogLayer'),
                lightRays: document.getElementById('lightRays')
            };

            // 浮遊粒子を生成
            createFloatingParticles();

            // パララックススクロール
            function handleParallax() {
                const scrollY = window.pageYOffset;
                
                if (parallaxLayers.mountainsFar) {
                    parallaxLayers.mountainsFar.style.transform = `translateY(${scrollY * 0.1}px)`;
                }
                if (parallaxLayers.mountainsMid) {
                    parallaxLayers.mountainsMid.style.transform = `translateY(${scrollY * 0.3}px)`;
                }
                if (parallaxLayers.mountainsNear) {
                    parallaxLayers.mountainsNear.style.transform = `translateY(${scrollY * 0.6}px)`;
                }
                if (parallaxLayers.fogLayer) {
                    parallaxLayers.fogLayer.style.transform = `translateY(${scrollY * 0.2}px) translateX(${Math.sin(scrollY * 0.001) * 20}px)`;
                }
                if (parallaxLayers.lightRays) {
                    parallaxLayers.lightRays.style.transform = `translateY(${scrollY * 0.1}px) rotate(${scrollY * 0.01}deg)`;
                }
            }

            // スクロールイベントにパララックスを追加
            let ticking = false;
            function updateParallax() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        handleParallax();
                        ticking = false;
                    });
                    ticking = true;
                }
            }

            window.addEventListener('scroll', updateParallax);
            
            console.log('Parallax and depth effects initialized');
        }

        // 浮遊粒子生成
        function createFloatingParticles() {
            const container = document.getElementById('floatingParticles');
            if (!container) return;

            const particleCount = 15;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle-float';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 12 + 's';
                particle.style.animationDuration = (Math.random() * 8 + 10) + 's';
                
                // ランダムな色調
                const hue = Math.random() * 60 + 30; // 30-90の範囲で暖色系
                particle.style.background = `radial-gradient(circle, hsla(${hue}, 70%, 70%, 0.8) 0%, transparent 70%)`;
                
                container.appendChild(particle);
            }
        }

        // 改良されたホバーナビゲーション制御（パララックス考慮）
        function initHoverNavigation() {
            const nav = document.getElementById('verticalNav');
            const trigger = document.getElementById('navTrigger');
            const indicator = document.getElementById('navIndicator');
            
            let isNavOpen = false;
            let hoverTimeout;
            
            // トリガーエリアにマウスが入った時
            trigger.addEventListener('mouseenter', () => {
                clearTimeout(hoverTimeout);
                isNavOpen = true;
                nav.classList.add('show');
                indicator.classList.add('hover');
            });
            
            // トリガーエリアからマウスが離れた時
            trigger.addEventListener('mouseleave', () => {
                hoverTimeout = setTimeout(() => {
                    if (!nav.matches(':hover')) {
                        closeNavigation();
                    }
                }, 150);
            });
            
            // ナビゲーションにマウスが入った時
            nav.addEventListener('mouseenter', () => {
                clearTimeout(hoverTimeout);
                isNavOpen = true;
            });
            
            // ナビゲーションからマウスが離れた時
            nav.addEventListener('mouseleave', () => {
                closeNavigation();
            });
            
            function closeNavigation() {
                isNavOpen = false;
                nav.classList.remove('show');
                indicator.classList.remove('hover');
            }
        }

        // アクティブナビゲーション管理
        function updateActiveNav() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.vertical-nav a');
            
            let currentSection = '';
            const scrollPos = window.scrollY + 200;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // スムーススクロール
        function initSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        // クリック後にナビを閉じる
                        const nav = document.getElementById('verticalNav');
                        const indicator = document.getElementById('navIndicator');
                        setTimeout(() => {
                            nav.classList.remove('show');
                            indicator.classList.remove('hover');
                        }, 300);
                    }
                });
            });
        }

        // スクロールアニメーション
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // アニメーション要素の初期設定
        function initializeAnimations() {
            document.querySelectorAll('.card, .section-title, .section-intro').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(30px)';
                el.style.transition = 'all 0.8s ease-out';
                observer.observe(el);
            });
        }

        // 統合スクロールイベント管理
        window.addEventListener('scroll', () => {
            // ヘッダー背景変更
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.9)';
            }
            
            // アクティブナビ更新
            updateActiveNav();
        });

        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            initSlideshow();
            initializeAnimations();
            initSmoothScroll();
            initHoverNavigation();
            initParallaxAndDepth(); // パララックスと奥行き効果を初期化
            updateActiveNav();
            
            console.log('Enhanced site with depth effects fully initialized');
        });クロールイベントの管理
        window.addEventListener('scroll', () => {
            // ヘッダー背景変更
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.9)';
            }
            
            // アクティブナビ更新
            updateActiveNav();
        });

        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            initSlideshow();
            initializeAnimations();
            initSmoothScroll();
            initHoverNavigation();
            updateActiveNav();
            
            // 初期状態の確認
            const nav = document.getElementById('verticalNav');
            console.log('Initial nav position:', window.getComputedStyle(nav).right);
            console.log('Hover navigation system fully initialized');
        });
    </script>
</body>
</html>四国遍路とは</h2>
            <p class="section-intro">
                四国八十八ヶ所霊場巡礼は、弘法大師（空海）ゆかりの寺院を巡る日本最古の巡礼路です。
                「同行二人」の精神で歩き、心の浄化と精神的な成長を求める神聖な旅。
                困ったことがあれば、いつでもサポートいたします。
            </p>

            <div class="card-grid">
                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>発心の道場（阿波）</h3>
                        <p>徳島県の霊場群。第1番霊山寺から第23番薬王寺まで。巡礼の始まりとして菩提心を発起し、修行への決意を新たにする道場です。道に迷った時はすぐにご連絡ください。</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>修行の道場（土佐）</h3>
                        <p>高知県の厳しい修行の道。第24番最御崎寺から第39番延光寺まで。太平洋の荒波と向き合う最も過酷な行程。体調管理のサポートも承ります。</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>菩提の道場（伊予）</h3>
                        <p>愛媛県の悟りを求める道。第40番観自在寺から第65番三角寺まで。石鎚山など霊峰を仰ぎ見ながら、仏の教えを深く理解します。宿泊先の手配もお任せください。</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>涅槃の道場（讃岐）</h3>
                        <p>香川県の最終段階。第66番雲辺寺から第88番大窪寺まで。弘法大師生誕の地で巡礼の集大成となる悟りの境地を目指します。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 大きな画像セクション -->
    <section class="hero-image-section">
        <div class="hero-image-content">
            <h2>同行二人</h2>
            <p>
                弘法大師と共に歩む聖なる道<br>
                一歩一歩に込める祈りと感謝<br>
                困った時にはサポートがあります
            </p>
        </div>
    </section>

    <!-- 引用セクション -->
    <section class="quote-section">
        <div class="quote-content">
            <div class="quote-text">
                「歩くことそのものが祈りなり<br>
                一歩一歩に仏の慈悲を感ず」
            </div>
            <div class="quote-author">— 弘法大師の教え</div>
        </div>
    </section>

    <!-- 主要札所 -->
    <section class="section" id="temples">
        <div class="section-content">
            <h2 class="section-title">主要札所</h2>
            <p class="section-intro">
                八十八の霊場それぞれに千年を超える歴史と独特の御利益があります。
                参拝時のお困りごとや作法についてもサポートいたします。
            </p>

            <div class="card-grid">
                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>霊山寺（りょうぜんじ）</h3>
                        <p>第一番札所。すべての巡礼者が最初に訪れる聖地。「発願の寺」として多くの人々が人生の新たなスタートを切る場所です。</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>善通寺（ぜんつうじ）</h3>
                        <p>弘法大師生誕の地。東院と西院に分かれ、西院の御影堂地下には「戒壇巡り」があります。</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-image"></div>
                    <div class="card-content">
                        <h3>大窪寺（おおくぼじ）</h3>
                        <p>結願寺。すべての巡礼者が最後に訪れる聖地。ここで「結願」を迎える感動は格別です。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 縦書きテキストセクション -->
    <section class="vertical-text-section">
        <div class="vertical-text">
            南無大師遍照金剛<br>
            心を清める巡礼の道<br>
            困った時にはサポートあり<br>
            一期一会の出会いに感謝
        </div>
    </section>

    <!-- 巡礼体験 -->
    <section class="section" id="journey">
        <div class="section-content">
            <h2 class="section-title">